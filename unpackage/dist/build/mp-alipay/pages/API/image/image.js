(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/API/image/image"],{"205e":function(t,e,i){"use strict";i.r(e);var s=i("cc22"),a=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=a.a},"2e11":function(t,e,i){},5737:function(t,e,i){"use strict";i.r(e);var s=i("6358"),a=i("205e");for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);i("fb62");var r=i("2877"),u=Object(r["a"])(a["default"],s["a"],s["b"],!1,null,null,null);e["default"]=u.exports},6358:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{attrs:{_hid:0}},[i("page-head",{attrs:{title:t.title,_hid:1,_batrs:"title",_cid:0}}),i("view",{staticClass:"uni-common-mt",attrs:{_hid:1003}},[i("form",{attrs:{_hid:1004}},[i("view",{staticClass:"uni-list",attrs:{_hid:1005}},[i("view",{staticClass:"uni-list-cell",attrs:{_hid:1006}},[i("view",{staticClass:"uni-list-cell-left",attrs:{_hid:1007}},[i("view",{staticClass:"uni-label",attrs:{_hid:1008}},[])]),i("view",{staticClass:"uni-list-cell-right",attrs:{_hid:1010}},[i("picker",{attrs:{range:t.sourceType,value:t.sourceTypeIndex,mode:"selector",_hid:1011,_batrs:"range,value"},on:{change:t.sourceTypeChange}},[i("view",{staticClass:"uni-input",attrs:{_hid:1012}},[t._v(t._s(t.sourceType[t.sourceTypeIndex]),1013)])])],1)]),i("view",{staticClass:"uni-list-cell",attrs:{_hid:1014}},[i("view",{staticClass:"uni-list-cell-left",attrs:{_hid:1015}},[i("view",{staticClass:"uni-label",attrs:{_hid:1016}},[])]),i("view",{staticClass:"uni-list-cell-right",attrs:{_hid:1018}},[i("picker",{attrs:{range:t.sizeType,value:t.sizeTypeIndex,mode:"selector",_hid:1019,_batrs:"range,value"},on:{change:t.sizeTypeChange}},[i("view",{staticClass:"uni-input",attrs:{_hid:1020}},[t._v(t._s(t.sizeType[t.sizeTypeIndex]),1021)])])],1)]),i("view",{staticClass:"uni-list-cell",attrs:{_hid:1022}},[i("view",{staticClass:"uni-list-cell-left",attrs:{_hid:1023}},[i("view",{staticClass:"uni-label",attrs:{_hid:1024}},[])]),i("view",{staticClass:"uni-list-cell-right",attrs:{_hid:1026}},[i("picker",{attrs:{range:t.count,mode:"selector",_hid:1027,_batrs:"range"},on:{change:t.countChange}},[i("view",{staticClass:"uni-input",attrs:{_hid:1028}},[t._v(t._s(t.count[t.countIndex]),1029)])])],1)])]),i("view",{staticClass:"uni-list list-pd",attrs:{_hid:1030}},[i("view",{staticClass:"uni-list-cell cell-pd",attrs:{_hid:1031}},[i("view",{staticClass:"uni-uploader",attrs:{_hid:1032}},[i("view",{staticClass:"uni-uploader-head",attrs:{_hid:1033}},[i("view",{staticClass:"uni-uploader-title",attrs:{_hid:1034}},[]),i("view",{staticClass:"uni-uploader-info",attrs:{_hid:1036}},[t._v(t._s(t.imageList.length)+"/9",1037)])]),i("view",{staticClass:"uni-uploader-body",attrs:{_hid:1038}},[i("view",{staticClass:"uni-uploader__files",attrs:{_hid:1039}},[t._l(t.imageList,function(e,s,a){var n=void 0!==a?a:s;return i("block",{key:s,attrs:{_hid:1040,_fid:n,_fk:"index"}},[i("view",{staticClass:"uni-uploader__file",attrs:{_hid:1041,_fid:n}},[i("image",{staticClass:"uni-uploader__img",attrs:{src:e,"data-src":e,_hid:1042,_fid:n,_batrs:"src,data-src"},on:{tap:t.previewImage}})])])},1040,t._self),i("view",{staticClass:"uni-uploader__input-box",attrs:{_hid:1043}},[i("view",{staticClass:"uni-uploader__input",attrs:{_hid:1044},on:{tap:t.chooseImage}})])],1)])])])])])],1)],1)},a=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a})},"771c":function(t,e,i){"use strict";i("0055");var s=n(i("5737")),a=n(i("3a53"));function n(t){return t&&t.__esModule?t:{default:t}}s.default.mpType="page";var r=new a.default(s.default);r.$mount()},cc22:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,s,a,n,r){try{var u=t[n](r),c=u.value}catch(l){return void i(l)}u.done?e(c):Promise.resolve(c).then(s,a)}function r(t){return function(){var e=this,i=arguments;return new Promise(function(s,a){var r=t.apply(e,i);function u(t){n(r,s,a,u,c,"next",t)}function c(t){n(r,s,a,u,c,"throw",t)}u(void 0)})}}var u=[["camera"],["album"],["camera","album"]],c=[["compressed"],["original"],["compressed","original"]],l={data:function(){return{title:"choose/previewImage",imageList:[],sourceTypeIndex:2,sourceType:["拍照","相册","拍照或相册"],sizeTypeIndex:2,sizeType:["压缩","原图","压缩或原图"],countIndex:8,count:[1,2,3,4,5,6,7,8,9]}},onUnload:function(){this.imageList=[],this.sourceTypeIndex=2,this.sourceType=["拍照","相册","拍照或相册"],this.sizeTypeIndex=2,this.sizeType=["压缩","原图","压缩或原图"],this.countIndex=8},methods:{sourceTypeChange:function(t){this.sourceTypeIndex=t.target.value},sizeTypeChange:function(t){this.sizeTypeIndex=t.target.value},countChange:function(t){this.countIndex=t.target.value},chooseImage:function(){var e=r(s.default.mark(function e(){var i,a=this;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(9!==this.imageList.length){e.next=7;break}return e.next=3,this.isFullImg();case 3:if(i=e.sent,console.log("是否继续?",i),i){e.next=7;break}return e.abrupt("return");case 7:t.chooseImage({sourceType:u[this.sourceTypeIndex],sizeType:c[this.sizeTypeIndex],count:this.imageList.length+this.count[this.countIndex]>9?9-this.imageList.length:this.count[this.countIndex],success:function(t){a.imageList=a.imageList.concat(t.tempFilePaths)}});case 8:case"end":return e.stop()}},e,this)}));function i(){return e.apply(this,arguments)}return i}(),isFullImg:function(){var e=this;return new Promise(function(i){t.showModal({content:"已经有9张图片了,是否清空现有图片？",success:function(t){t.confirm?(e.imageList=[],i(!0)):i(!1)},fail:function(){i(!1)}})})},previewImage:function(e){var i=e.target.dataset.src;t.previewImage({current:i,urls:this.imageList})}}};e.default=l}).call(this,i("c11b")["default"])},fb62:function(t,e,i){"use strict";var s=i("2e11"),a=i.n(s);a.a}},[["771c","common/runtime","common/vendor"]]]);