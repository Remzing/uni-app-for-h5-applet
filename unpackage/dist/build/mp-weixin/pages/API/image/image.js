(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/API/image/image"],{"205e":function(e,t,i){"use strict";i.r(t);var s=i("cc22"),n=i.n(s);for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);t["default"]=n.a},"2e11":function(e,t,i){},5737:function(e,t,i){"use strict";i.r(t);var s=i("6358"),n=i("205e");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("fb62");var u=i("2877"),c=Object(u["a"])(n["default"],s["a"],s["b"],!1,null,null,null);t["default"]=c.exports},6358:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("page-head",{attrs:{title:e.title,mpcomid:"05275939-0"}}),i("view",{staticClass:"uni-common-mt"},[i("form",[i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-left"},[i("view",{staticClass:"uni-label"},[e._v("图片来源")])]),i("view",{staticClass:"uni-list-cell-right"},[i("picker",{attrs:{range:e.sourceType,value:e.sourceTypeIndex,mode:"selector",eventid:"05275939-0"},on:{change:e.sourceTypeChange}},[i("view",{staticClass:"uni-input"},[e._v(e._s(e.sourceType[e.sourceTypeIndex]))])])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-left"},[i("view",{staticClass:"uni-label"},[e._v("图片质量")])]),i("view",{staticClass:"uni-list-cell-right"},[i("picker",{attrs:{range:e.sizeType,value:e.sizeTypeIndex,mode:"selector",eventid:"05275939-1"},on:{change:e.sizeTypeChange}},[i("view",{staticClass:"uni-input"},[e._v(e._s(e.sizeType[e.sizeTypeIndex]))])])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-left"},[i("view",{staticClass:"uni-label"},[e._v("数量限制")])]),i("view",{staticClass:"uni-list-cell-right"},[i("picker",{attrs:{range:e.count,mode:"selector",eventid:"05275939-2"},on:{change:e.countChange}},[i("view",{staticClass:"uni-input"},[e._v(e._s(e.count[e.countIndex]))])])],1)])]),i("view",{staticClass:"uni-list list-pd"},[i("view",{staticClass:"uni-list-cell cell-pd"},[i("view",{staticClass:"uni-uploader"},[i("view",{staticClass:"uni-uploader-head"},[i("view",{staticClass:"uni-uploader-title"},[e._v("点击可预览选好的图片")]),i("view",{staticClass:"uni-uploader-info"},[e._v(e._s(e.imageList.length)+"/9")])]),i("view",{staticClass:"uni-uploader-body"},[i("view",{staticClass:"uni-uploader__files"},[e._l(e.imageList,function(t,s){return i("block",{key:s},[i("view",{staticClass:"uni-uploader__file"},[i("image",{staticClass:"uni-uploader__img",attrs:{src:t,"data-src":t,eventid:"05275939-3-"+s},on:{tap:e.previewImage}})])])}),i("view",{staticClass:"uni-uploader__input-box"},[i("view",{staticClass:"uni-uploader__input",attrs:{eventid:"05275939-4"},on:{tap:e.chooseImage}})])],2)])])])])])],1)],1)},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},"771c":function(e,t,i){"use strict";i("0055");var s=a(i("b0ce")),n=a(i("5737"));function a(e){return e&&e.__esModule?e:{default:e}}Page((0,s.default)(n.default))},cc22:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i("a34a"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,s,n,a,u){try{var c=e[a](u),l=c.value}catch(r){return void i(r)}c.done?t(l):Promise.resolve(l).then(s,n)}function u(e){return function(){var t=this,i=arguments;return new Promise(function(s,n){var u=e.apply(t,i);function c(e){a(u,s,n,c,l,"next",e)}function l(e){a(u,s,n,c,l,"throw",e)}c(void 0)})}}var c=[["camera"],["album"],["camera","album"]],l=[["compressed"],["original"],["compressed","original"]],r={data:function(){return{title:"choose/previewImage",imageList:[],sourceTypeIndex:2,sourceType:["拍照","相册","拍照或相册"],sizeTypeIndex:2,sizeType:["压缩","原图","压缩或原图"],countIndex:8,count:[1,2,3,4,5,6,7,8,9]}},onUnload:function(){this.imageList=[],this.sourceTypeIndex=2,this.sourceType=["拍照","相册","拍照或相册"],this.sizeTypeIndex=2,this.sizeType=["压缩","原图","压缩或原图"],this.countIndex=8},methods:{sourceTypeChange:function(e){this.sourceTypeIndex=e.target.value},sizeTypeChange:function(e){this.sizeTypeIndex=e.target.value},countChange:function(e){this.countIndex=e.target.value},chooseImage:function(){var t=u(s.default.mark(function t(){var i,n=this;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(9!==this.imageList.length){t.next=7;break}return t.next=3,this.isFullImg();case 3:if(i=t.sent,console.log("是否继续?",i),i){t.next=7;break}return t.abrupt("return");case 7:e.chooseImage({sourceType:c[this.sourceTypeIndex],sizeType:l[this.sizeTypeIndex],count:this.imageList.length+this.count[this.countIndex]>9?9-this.imageList.length:this.count[this.countIndex],success:function(e){n.imageList=n.imageList.concat(e.tempFilePaths)}});case 8:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}(),isFullImg:function(){var t=this;return new Promise(function(i){e.showModal({content:"已经有9张图片了,是否清空现有图片？",success:function(e){e.confirm?(t.imageList=[],i(!0)):i(!1)},fail:function(){i(!1)}})})},previewImage:function(t){var i=t.target.dataset.src;e.previewImage({current:i,urls:this.imageList})}}};t.default=r}).call(this,i("543d")["default"])},fb62:function(e,t,i){"use strict";var s=i("2e11"),n=i.n(s);n.a}},[["771c","common/runtime","common/vendor"]]]);